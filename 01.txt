CREATE FUNCTION most_messages_to_user_id(user_id INTEGER, OUT usr INTEGER) AS
$$
    SELECT
        from_user_id
        FROM messages
        where to_user_id = user_id
        group by from_user_id
        ORDER BY COUNT (from_user_id) DESC
        LIMIT 1;
$$
LANGUAGE SQL;
